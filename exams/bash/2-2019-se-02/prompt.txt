E-02 Напишете шел скрипт, който приема множество параметри. Общ вид на извикване:
. / f o o . s h [ - n N ] F I L E 1 . . .
В общия случай параметрите се третират като имена на (. l o g ) файлове, които трябва да бъдат обработени
от скрипта, със следното изключение: ако първият параметър е стрингът - n , то вторият параметър е
число, дефиниращо стойност на променливата N, която ще ползваме в скрипта. Въвеждаме понятието
идентификатор на файл (ИДФ), което се състои от името на даден файл без разширението . l o g . За
удобство приемаме, че скриптът:
• ще бъде извикван с аргументи имена на файлове, винаги завършващи на . l o g
• няма да бъде извикван с аргументи имена на файлове с еднакъв ИДФ.
Лог файловете са текстови, като всеки ред има следния формат:
• време: timestamp във формат Y Y Y Y - M M - D D H H : M M : S S
• интервал
• данни: поредица от символи с произволна дължина
За удобство приемаме, че редовете във всеки файл са сортирани по време възходящо.
Примерно съдържание на даден лог файл:
2 0 1 9 - 0 5 - 0 5 0 6 : 2 6 : 5 4 o r t h a n c r s y s l o g d : r s y s l o g d w a s H U P e d
2 0 1 9 - 0 5 - 0 6 0 6 : 3 0 : 3 2 o r t h a n c r s y s l o g d : r s y s l o g d w a s H U P e d
2 0 1 9 - 0 5 - 0 6 1 0 : 4 8 : 2 9 o r t h a n c k e r n e l : [ 1 7 2 5 3 7 9 . 7 2 8 8 7 1 ] C h r o m e _ ~ d T h r e a d [ 8 7 6 ] : s e g f a u l t
Скриптът трябва да извежда на S T D O U T последните N реда (ако N не е дефинирано - 10 реда) от всеки
файл, в следния формат:
• timestamp във формат Y Y Y Y - M M - D D H H : M M : S S
• интервал
• ИДФ
• интервал
• данни
Изходът трябва да бъде глобално сортиран по време възходящо
