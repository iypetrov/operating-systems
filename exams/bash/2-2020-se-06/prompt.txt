E-06 Под конфигурационен файл ще разбираме файл, в който има редове от вида k e y = v a l u e ,
където k e y и v a l u e могат да се състоят от букви, цифри и знак “долна черта” (“_ ”). Освен това, във
файла може да има празни редове; може да има произволен whitespace в началото и в края на редовете,
както и около символа “= ”. Също така са допустими и коментари в даден ред: всичко след символ “# ”
се приема за коментар.
Под < d a t e > ще разбираме текущото време, върнато от командата d a t e без параметри; под < u s e r > ще
разбираме името на текущият потребител.
Напишете shell скрипт s e t _ v a l u e . s h , който приема 3 позиционни аргумента – име на конфигурационен
файл, ключ (f o o ) и стойност (b a r ). Ако ключът:
• присъства във файла с друга стойност, скриптът трябва да:
– да закоментира този ред като сложи # в началото на реда и добави в края на реда # e d i t e d
a t < d a t e > b y < u s e r >
– да добави нов ред f o o = b a r # a d d e d a t < d a t e > b y < u s e r > точно след стария ред
• не присъства във файла, скриптът трябва да добави ред от вида f o o = b a r # a d d e d a t < d a t e >
b y < u s e r > на края на файла
Примерен f o o . c o n f :
# r o u t e d e s c r i p t i o n
f r o m = S o f i a
t o = V a r n a # m y f a v o u r i t e c i t y !
t y p e = t 2 _ 1
Примерно извикване:
. / s e t _ v a l u e . s h f o o . c o n f t o P l o v d i v
Съдържание на f o o . c o n f след извикването:
# r o u t e d e s c r i p t i o n
f r o m = S o f i a
# t o = V a r n a # m y f a v o u r i t e c i t y ! # e d i t e d a t T u e A u g 2 5 1 5 : 4 8 : 2 9 E E S T 2 0 2 0 b y h u m a n
t o = P l o v d i v # a d d e d a t T u e A u g 2 5 1 5 : 4 8 : 2 9 E E S T 2 0 2 0 b y h u m a n
t y p e = t 2 _ 1
